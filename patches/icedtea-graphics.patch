--- ../opienjdkb23/openjdk/jdk/src/share/classes/javax/swing/text/WrappedPlainView.java	2007-10-30 04:37:06.000000000 -0400
+++ openjdk/jdk/src/share/classes/javax/swing/text/WrappedPlainView.java	2007-11-13 12:50:52.000000000 -0500
@@ -327,13 +327,37 @@
     /**
      * Return reasonable default values for the view dimensions.  The standard
      * text terminal size 80x24 is pretty suitable for the wrapped plain view.
+     *
+     * The size should not be larger than the component housing the view's 
+     * container.
      */
     private float getDefaultSpan(int axis) {
+	 Container host = getContainer();
+	 Component parent = null;
+
+	 if (host != null)
+	    parent = host.getParent();	
          switch (axis) {
             case View.X_AXIS:
-                return 80 * metrics.getWidths()['M'];
+		int defaultWidth = 80 * metrics.getWidths()['M'];
+		int parentWidth = 0;
+
+		if (parent != null)
+		   parentWidth = parent.getWidth();
+
+		if (defaultWidth > parentWidth)
+		  return parentWidth;
+		return defaultWidth;
             case View.Y_AXIS:
-                return 24 * metrics.getHeight();
+		int defaultHeight = 24 * metrics.getHeight();
+		int parentHeight = 0;
+
+		if (parent != null)
+		   parentHeight = parent.getHeight();
+
+		if (defaultHeight > parentHeight)
+		  return parentHeight;
+		return defaultHeight;
             default:
                 throw new IllegalArgumentException("Invalid axis: " + axis);
         }
