# HG changeset patch
# User dmeetry
# Date 1325175900 -14400
# Node ID 3c11966c3da3ec95c80008e4a4cc2ae4ab0e59fc
# Parent  e05eb7bee1ce0a44f3e414454e44cd49d77ba9de
7110700: Enhance exception throwing mechanism in ObjectStreamClass
Reviewed-by: smarks

diff --git a/src/share/classes/java/io/ObjectStreamClass.java b/src/share/classes/java/io/ObjectStreamClass.java
--- openjdk/jdk/src/share/classes/java/io/ObjectStreamClass.java
+++ openjdk/jdk/src/share/classes/java/io/ObjectStreamClass.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 1996, 2010, Oracle and/or its affiliates. All rights reserved.
+ * Copyright (c) 1996, 2011, Oracle and/or its affiliates. All rights reserved.
  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  *
  * This code is free software; you can redistribute it and/or modify it
@@ -730,7 +730,6 @@ public class ObjectStreamClass implement
             InvalidClassException ice =
                 new InvalidClassException(deserializeEx.classname,
                                           deserializeEx.getMessage());
-            ice.initCause(deserializeEx);
             throw ice;
         }
     }
@@ -745,7 +744,6 @@ public class ObjectStreamClass implement
             InvalidClassException ice =
                 new InvalidClassException(serializeEx.classname,
                                           serializeEx.getMessage());
-            ice.initCause(serializeEx);
             throw ice;
         }
     }
@@ -762,7 +760,6 @@ public class ObjectStreamClass implement
             InvalidClassException ice =
                 new InvalidClassException(defaultSerializeEx.classname,
                                           defaultSerializeEx.getMessage());
-            ice.initCause(defaultSerializeEx);
             throw ice;
         }
     }
